# CLAUDE.md

Этот файл содержит руководство для Claude Code (claude.ai/code) при работе с кодом в этом репозитории.

## Команды разработки

- **Запуск dev-сервера**: `bun run dev` (запускается на порту 3002)
- **Сборка проекта**: `bun run build`
- **Проверка кода**: `bun run lint`
- **Предпросмотр сборки**: `bun run preview`
- **Проверка неиспользуемого кода**: `bun run knip`

## Обзор архитектуры

Это React-приложение для спортивных ставок, построенное на современном стеке:

### Основной стек
- **Фронтенд**: React 19 с TypeScript
- **Управление состоянием**: Reatom (реактивное управление состоянием)
- **Роутинг**: TanStack Router с файловой маршрутизацией
- **Сборщик**: Vite с поддержкой PWA
- **HTTP-клиент**: Ky для API запросов

### Структура проекта (Feature-Sliced Design)

Проект следует методологии feature-sliced с путевыми псевдонимами:

- `$app` - Настройка приложения и провайдеры
- `$shared` - Общие утилиты и типы
- `$entities` - Бизнес-сущности (пусто/готово для реализации)
- `$features` - Пользовательские функции (сейчас только пустая фича)
- `$widgets` - Компонуемые UI компоненты (пусто/готово для реализации)
- `$pages` - Компоненты страниц на основе маршрутов
- `$model` - Бизнес-логика и модели данных (пусто/готово для реализации)

### Ключевые архитектурные паттерны

1. **Управление состоянием**: Reatom контекст инициализируется в `$shared/reatom-context` и предоставляется через `src/app/main.tsx`
2. **API слой**: Централизованный HTTP клиент в `$shared/api/instance.ts` с автоматической инъекцией токена из cookies
3. **Роутинг**: Файловая маршрутиация с TanStack Router, авто-генерация `routeTree.gen.ts`
4. **Тематизация**: Динамическая загрузка CSS на основе переменной окружения `VITE_CASINO_NAME`
5. **Псевдонимы путей**: Все каталоги имеют псевдонимы с префиксом `$` (например, `$shared`, `$features`)

### Среда разработки

- **Прокси**: API запросы к `/api` проксируются на `https://bot.tapgame.tech` во время разработки
- **Окружение**: Использует `VITE_CASINO_NAME` для динамической загрузки CSS переменных
- **TypeScript**: Настроен с разрешением модулей bundler и строгим режимом

### Организация кода

- Общие утилиты в `$shared/lib/utils/` включают помощников для дат, форматирования, интеграции с Telegram
- Определения типов централизованы в `$shared/types/`
- Константы бизнес-логики находятся в `$shared/lib/constants/`
- API эндпоинты организованы в `$shared/api/` с типизированными ответами

Кодовая база готова к масштабированию с чётким разделением ответственности и современными React паттернами, готова к разработке функций спортивных ставок.